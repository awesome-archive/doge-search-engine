<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>CSCI 363 &mdash; Computer Networks -- Labs</title>
  <meta http-equiv="content-type" content="text/html; charset=us-ascii">
  <link rel="stylesheet" type="text/css" href=
  "http://www.eg.bucknell.edu/~cs363/common-files/course.css">
  <base href="http://www.eg.bucknell.edu/~cs363/2013-spring/">
  <script type = "text/javascript" language = "JavaScript" src ="/~cs363/common-files/courseinfo.js">
</script>
</head>

<body>
<!-- header starts -->
<div id = "header">
<script type = "text/javascript" language = "JavaScript">
insertHTML('/~cs363/common-files/cs363header.html', 'header');
</script>
</div>
<!-- header ends -->

<h2>Lab 11: Secure Socket Layer (SSL) in Java</h2>

<h4>Goals</h4>

<ul>
   <li> <font color=red><b>Gain an understanding of how to program SSL :</b></font> You will experiment with <em>Secure Socket Layer</em> (or SSL) programming in Java.</li>
</ul>

<h4>Credits</h4>

<p>Most of the materials of SSL from this lab is adapted from <a href = "http://stilius.net/java/java_ssl.php">http://stilius.net/java/java_ssl.php</a> and copy-righted by Tomas Vilda. Here is the original copy-right note.</p>

<p>
<em>Copyright<br>
This document is copyrighted to Tomas Vilda. You can use it in all ways, but don't change this section and always include it.</em>
</p>


<h4>Introduction</h4>

<p>So far we have written and experimented with client/server programs in various application settings using the programming language C. The <em>socket</em> interface we used in our program is not secure. The information sent over the network using Linux socket is not encrypted, nor is the integrity of the data checked. The CRC lab we did last week allows us at least to validate the integrity of the data to a certain level. This week's lab we will learn the APIs for SSL which will enable the data to be encrypted when traveling through the network.</p>

<p>The SSL programming API is very similar to those of regular socket, the calls to create socket, to bind an address, to connect to a remote server, and to accept a connecting request from a client are all very similar to those in the regular sockets. The extra pieces of work one has to do in order to use SSL is the creation of SSL keys. These keys are used to encrypt and decrypt messages and to authenticate the communicating partners.</p>

<p>The general process is the following.</p>
<ul>
  <li> Generate the keys that will be used by the server and the client. The keys are stored in a file on the server side and on the client side.</li>

  <li> Run the server program on a computer.</li>

  <li> Run the client program on a computer. The data communication between the server and the client using SSL is encrypted.</li>
</ul>

<p>It turns out that the C interface to SSL is a bit complicated and confusing, especially the key generation process. For this reason, we are using Java in this lab. Thought the APIs for SSL from the two languages are very different, the concept is very similar.</p>

<p>In this lab, we will try out a very simple Java SSL program to gain an appreciation how SSL works.</p>

<h4>Your Assignment</h4>

<p>Most of the materials of SSL from this lab is adapted from <a href = "http://stilius.net/java/java_ssl.php">http://stilius.net/java/java_ssl.php</a> and copy-righted by Tomas Vilda.</p>

<p>Before programming SSL in Java, please take some time and read the web site</p>

<p><font color = red><a href = "http://stilius.net/java/java_ssl.php">http://stilius.net/java/java_ssl.php</a></font>.</p>

<p>Now do the following.</p>
<ol>
  <li> Create a local directory, e.g., <code>lab11</code> in your course work directory.</li>

  <li> Copy all files from <code>~cs363/Spring13/student/labs/lab11/</code>. You should see a set of seven files.</li>

  <li> Read the three shell script files, <code>keygen, execute-java-ssl-server</code>, and <code>execute-java-ssl-client</code> and make sure you understand what these shell scripts are doing.</li>

  <li> Run <code>keygen</code> to generate the key(s) needed for SSL. The Java tool <code>keytool</code> invoked by the script will ask a number of questions. You can provide any answers that are appropriate. These answers don't really affect the behaviors of our programs.</li>

  <li> Compile the two Java programs, <code>EchoServer.java</code> and <code>EchoClient.java</code> using the command<br>
<p><code>javac *.java</code></p>

  <li> Start the server program first by running the script<br>
<p><code>./execute-java-ssl-server</code></p>

   <li> Then running the client program in a different terminal window, but on the same computer.<br>
<p><code>./execute-java-ssl-client</code></p>

   <li> You can run the client program for a few times to see how it works.</li>

   <li> Assume you have compiled all Java programs. Run the <code>ConsoleTest</code> Java program by<br>
<p><code>java ConsoleTest</code></p>

   <li> Run the <code>DateTest</code> Java program by<br>
<p><code>java DateTest</code></p>
</ol>

<p>Rewrite the <code>EchoServer.java</code> and <code>EchoClient.java</code> to conform with the following behavior.</p>

<p>Instead of the client sending a message to the server and the server echos back what it receives, the server will respond to two types of client request. One is that the server will send back a string representing the date in a calendar format; the other is that the server will send back a string representing the date in a simple format of "mm/dd/yyyy", that is, two digits for the month, two digits for the day, and four digits for the year. In order for a user to user the service, the client program generates a random number that is displayed on the screen, the user must enter the number correctly without seeing the echo when typing the input. If the number entered doesn't match the random number the program generated, the client program must repeat the same process until the user enters a correct value. See the copied program <code>ConsoleTest.java</code> for the use of Java random numbers.</p>

<p>Consult the programs <code>DateTest.java</code> and <code>ConsoleTest.java</code> for the program behaviors.</p>

<p><b>When you finish the lab, clean up the directory, submit all files to Gitlab.</b></p>

<p>Congratulations! You just finished this lab, and for the semester!!!!</p>
</body>
</html>
